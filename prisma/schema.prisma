generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model attendance {
  attendance_id     Int     @id
  student_id        Int?
  lesson_id         Int?
  attendance_status String? @db.VarChar(50)
  comment           String?
  lesson            lesson? @relation(fields: [lesson_id], references: [lesson_id], onDelete: NoAction, onUpdate: NoAction)
}

model faculty {
  faculty_id   Int       @id
  faculty_name String?   @db.VarChar(255)
  grup         grup[]
  subject      subject[]
  teacher      teacher[]
}

model grup {
  group_id   Int      @id
  faculty_id Int?
  faculty    faculty? @relation(fields: [faculty_id], references: [faculty_id], onDelete: NoAction, onUpdate: NoAction)
}

model lesson {
  lesson_id    Int          @id
  subject_id   Int?
  date         DateTime?    @db.Date
  start_time   DateTime?    @db.Time(6)
  end_time     DateTime?    @db.Time(6)
  group_number Int?
  teacher_id   Int?
  attendance   attendance[]
  subject      subject?     @relation(fields: [subject_id], references: [subject_id], onDelete: NoAction, onUpdate: NoAction)
  teacher      teacher?     @relation(fields: [teacher_id], references: [teacher_id], onDelete: NoAction, onUpdate: NoAction)
}

model student {
  student_id   Int     @id
  student_name String? @db.VarChar(255)
  group_id     Int?
}

model subject {
  subject_id   Int      @id
  subject_name String?  @db.VarChar(255)
  faculty_id   Int?
  lesson       lesson[]
  faculty      faculty? @relation(fields: [faculty_id], references: [faculty_id], onDelete: NoAction, onUpdate: NoAction)
}

model teacher {
  teacher_id   Int      @id
  teacher_name String?  @db.VarChar(255)
  faculty_id   Int?
  lesson       lesson[]
  faculty      faculty? @relation(fields: [faculty_id], references: [faculty_id], onDelete: NoAction, onUpdate: NoAction)
}
